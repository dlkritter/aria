# SPDX-License-Identifier: Apache-2.0
import Instant from aria.date.instant;

func main() {
    val moment = Instant.new_with_utc_timestamp(1623602460000);
    assert moment.year == 2021;
    assert moment.month == 6;
    assert moment.day == 13;
    assert moment.hour == 16;
    assert moment.minute == 41;
    assert moment.second == 0;
    assert moment.millisecond == 0;
    assert "{0}".format(moment) == "Jun 13 2021 16:41:00.000";

    moment = Instant.new_with_utc_timestamp(1736142835000);
    assert moment.year == 2025;
    assert moment.month == 1;
    assert moment.day == 6;
    assert moment.hour == 5;
    assert moment.minute == 53;
    assert moment.second == 55;
    assert moment.millisecond == 0;

    moment = Instant.new_with_utc_timestamp(-85399999000);
    assert moment.year == 1967;
    assert moment.month == 4;
    assert moment.day == 18;
    assert moment.hour == 13;
    assert moment.minute == 46;
    assert moment.second == 41;
    assert moment.millisecond == 0;

    moment = Instant.new_with_utc_timestamp(-783264174000);
    assert moment.year == 1945;
    assert moment.month == 3;
    assert moment.day == 7;
    assert moment.hour == 10;
    assert moment.minute == 37;
    assert moment.second == 6;
    assert moment.millisecond == 0;

    moment = Instant.new_with_utc_timestamp(-1);
    assert moment.year == 1969;
    assert moment.month == 12;
    assert moment.day == 31;
    assert moment.hour == 23;
    assert moment.minute == 59;
    assert moment.second == 59;
    assert moment.millisecond == 999;

    moment = Instant.new_with_utc_timestamp(-999);
    assert moment.year == 1969;
    assert moment.month == 12;
    assert moment.day == 31;
    assert moment.hour == 23;
    assert moment.minute == 59;
    assert moment.second == 59;
    assert moment.millisecond == 1;

    moment = Instant.new_with_utc_timestamp(-1000);
    assert moment.year == 1969;
    assert moment.month == 12;
    assert moment.day == 31;
    assert moment.hour == 23;
    assert moment.minute == 59;
    assert moment.second == 59;
    assert moment.millisecond == 0;

    moment = Instant.new_with_utc_timestamp(-1001);
    assert moment.year == 1969;
    assert moment.month == 12;
    assert moment.day == 31;
    assert moment.hour == 23;
    assert moment.minute == 59;
    assert moment.second == 58;
    assert moment.millisecond == 999;

    moment = Instant.new_with_utc_timestamp(-86400000);
    assert moment.year == 1969;
    assert moment.month == 12;
    assert moment.day == 31;
    assert moment.hour == 0;
    assert moment.minute == 0;
    assert moment.second == 0;
    assert moment.millisecond == 0;

    moment = Instant.new_with_utc_timestamp(-86400001);
    assert moment.year == 1969;
    assert moment.month == 12;
    assert moment.day == 30;
    assert moment.hour == 23;
    assert moment.minute == 59;
    assert moment.second == 59;
    assert moment.millisecond == 999;

    moment = Instant.new_with_utc_timestamp(-2678400000);
    assert moment.year == 1969;
    assert moment.month == 12;
    assert moment.day == 1;
    assert moment.hour == 0;
    assert moment.minute == 0;
    assert moment.second == 0;
    assert moment.millisecond == 0;

    moment = Instant.new_with_utc_timestamp(-1423503211);
    assert moment.year == 1969;
    assert moment.month == 12;
    assert moment.day == 15;
    assert moment.hour == 12;
    assert moment.minute == 34;
    assert moment.second == 56;
    assert moment.millisecond == 789;
}
